<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 40px;
            color: #333;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
        }
        .company-name {
            font-size: 32px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        .tagline {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .estimate-title {
            font-size: 24px;
            color: #e74c3c;
            font-weight: bold;
        }
        .customer-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .customer-info h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 10px;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .info-label {
            font-weight: bold;
            width: 120px;
        }
        .details-section {
            margin-bottom: 30px;
        }
        .section-title {
            background: #34495e;
            color: white;
            padding: 12px 20px;
            margin: 20px 0 10px 0;
            font-size: 16px;
            font-weight: bold;
        }
        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        .detail-label {
            font-weight: 500;
        }
        .detail-value {
            font-weight: bold;
        }
        .estimate-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        .estimate-table th {
            background: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        .estimate-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        .estimate-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        .total-section {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .final-total {
            border-top: 2px solid #2c3e50;
            padding-top: 15px;
            margin-top: 15px;
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        .terms {
            margin-top: 40px;
            padding: 20px;
            background: #f1f2f6;
            border-radius: 8px;
            font-size: 12px;
            color: #666;
        }
        .terms h4 {
            margin-top: 0;
            color: #2c3e50;
        }
        .contact-info {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #2c3e50;
            color: white;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="company-name">ProPaint Estimates</div>
        <div class="tagline">Professional Painting Services</div>
        <div class="estimate-title">PAINTING ESTIMATE</div>
    </div>

    <div class="customer-info">
        <h3>Customer Information</h3>
        <div class="info-row">
            <span class="info-label">Customer:</span>
            <span>{{ customer_name }}</span>
        </div>
        {% if customer_email %}
        <div class="info-row">
            <span class="info-label">Email:</span>
            <span>{{ customer_email }}</span>
        </div>
        {% endif %}
        {% if customer_phone %}
        <div class="info-row">
            <span class="info-label">Phone:</span>
            <span>{{ customer_phone }}</span>
        </div>
        {% endif %}
        {% if job_address %}
        <div class="info-row">
            <span class="info-label">Address:</span>
            <span>{{ job_address }}</span>
        </div>
        {% endif %}
        <div class="info-row">
            <span class="info-label">Date:</span>
            <span>{{ estimate.job_details.date }}</span>
        </div>
    </div>

    <div class="section-title">Project Details</div>
    <div class="details-grid">
        <div>
            <div class="detail-item">
                <span class="detail-label">Room Length:</span>
                <span class="detail-value">{{ estimate.room_info.length }} ft</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Room Width:</span>
                <span class="detail-value">{{ estimate.room_info.width }} ft</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Ceiling Height:</span>
                <span class="detail-value">{{ estimate.room_info.height }} ft</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Total Wall Area:</span>
                <span class="detail-value">{{ estimate.room_info.wall_area }} sq ft</span>
            </div>
        </div>
        <div>
            <div class="detail-item">
                <span class="detail-label">Doors:</span>
                <span class="detail-value">{{ estimate.room_info.doors }}</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Windows:</span>
                <span class="detail-value">{{ estimate.room_info.windows }}</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Paintable Area:</span>
                <span class="detail-value">{{ estimate.room_info.paintable_area }} sq ft</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Wall Condition:</span>
                <span class="detail-value">{{ estimate.job_details.condition|title }}</span>
            </div>
        </div>
    </div>

    <div class="section-title">Cost Breakdown</div>
    <table class="estimate-table">
        <thead>
            <tr>
                <th>Item</th>
                <th>Details</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Paint</strong></td>
                <td>{{ estimate.materials.gallons_needed }} gallons ({{ estimate.job_details.paint_quality|title }} quality, {{ estimate.job_details.coats }} coat{{ 's' if estimate.job_details.coats > 1 else '' }})</td>
                <td>${{ "%.2f"|format(estimate.materials.paint_cost) }}</td>
            </tr>
            <tr>
                <td><strong>Supplies</strong></td>
                <td>Brushes, rollers, drop cloths, tape, etc.</td>
                <td>${{ "%.2f"|format(estimate.materials.supplies_cost) }}</td>
            </tr>
            <tr>
                <td><strong>Labor</strong></td>
                <td>{{ estimate.labor.hours }} hours (includes prep work for {{ estimate.job_details.condition }} walls)</td>
                <td>${{ "%.2f"|format(estimate.labor.labor_cost) }}</td>
            </tr>
        </tbody>
    </table>

    <div class="total-section">
        <div class="total-row">
            <span>Subtotal:</span>
            <span>${{ "%.2f"|format(estimate.totals.subtotal) }}</span>
        </div>
        <div class="total-row">
            <span>Business overhead & profit (20%):</span>
            <span>${{ "%.2f"|format(estimate.totals.markup) }}</span>
        </div>
        <div class="total-row final-total">
            <span>TOTAL ESTIMATE:</span>
            <span>${{ "%.2f"|format(estimate.totals.total) }}</span>
        </div>
    </div>

    <div class="terms">
        <h4>Terms & Conditions</h4>
        <p><strong>This estimate is valid for 30 days.</strong> Final pricing may vary based on site conditions discovered during work. Paint and materials included are as specified above. Customer is responsible for moving furniture and personal items. All surfaces will be properly prepared according to manufacturer specifications.</p>
        
        <p><strong>Payment Terms:</strong> 50% deposit required to start work, balance due upon completion. We accept cash, check, or credit card.</p>
        
        <p><strong>Warranty:</strong> We guarantee our workmanship for 2 years and will touch up any defects at no charge.</p>
    </div>

    <div class="contact-info">
        <p><strong>Questions about this estimate?</strong></p>
        <p>Call us at (555) 123-PAINT or email info@propaintestimates.com</p>
        <p>Licensed • Insured • Bonded</p>
    </div>
</body>
</html>